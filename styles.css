/*
  Root theme tokens (colors, radii, shadows)
  - These CSS variables centralize the liquid-glass look and vibrant pastel accents.
  - Pastel palette purposefully avoids blues per spec; emphasizes pink/yellow/orange/green/coral.
  - --gradient-1 provides a soft, multi-radial wash used as the page background.
  - Glass parameters (stroke, shadow, blur) ensure consistent frosted panels across components.
*/
:root {
  /* App background base (near-black to showcase glass and color glows) */
  --bg: #0f0f0f;
  /* Primary readable text color (high contrast on dark) */
  --text: rgba(255, 255, 255, 0.92);
  /* Secondary text color for supporting copy */
  --muted: rgba(255, 255, 255, 0.65);
  /* Default glass fill for panels and cards */
  --glass: rgba(255, 255, 255, 0.12);
  /* Stronger glass fill for emphasis (headers, overlays) */
  --glass-strong: rgba(255, 255, 255, 0.24);
  /* Universal hairline border color for glass (soft white outline) */
  --stroke: rgba(255, 255, 255, 0.18);
  /* Default outer + inner shadows for glass lift and sheen */
  --shadow: 0 10px 30px rgba(0,0,0,.35), inset 0 1px rgba(255,255,255,.2);
  /* Corner radii scale for consistent rounding */
  --radius: 18px;
  --radius-sm: 12px;
  --radius-lg: 28px;
  /* Blur amount for frosted-glass effect */
  --blur: 18px;

  /* Pastel accents (no blues) */
  /* Accent: playful, warm pink used for music and highlights */
  --pastel-pink: #ff6b9d;
  /* Accent: sunny yellow used for primaries and selections */
  --pastel-yellow: #ffd93d;
  /* Accent: friendly orange used in gradients and CTAs */
  --pastel-orange: #ff8a5c;
  /* Accent: fresh green for outdoors/nature elements */
  --pastel-green: #6bcf7f;
  /* Accent: coral variant for tech/creative cues */
  --pastel-coral: #ff6b6b;
  
  /* Background multi-radial gradient wash with pastel colors */
  --gradient-1: radial-gradient(1200px 800px at 10% 10%, rgba(255, 107, 157, 0.15) 0%, transparent 50%),
                 radial-gradient(1000px 700px at 90% 20%, rgba(255, 217, 61, 0.1) 0%, transparent 50%),
                 radial-gradient(900px 900px at 30% 90%, rgba(107, 207, 127, 0.12) 0%, transparent 50%),
                 radial-gradient(800px 1000px at 70% 80%, rgba(255, 107, 107, 0.08) 0%, transparent 50%);
}

/* Light theme - automatically applied when browser prefers light mode */
@media (prefers-color-scheme: light) {
  :root {
    /* Light theme background (soft white) */
    --bg: #fafafa;
    /* Dark text for high contrast on light */
    --text: rgba(20, 20, 20, 0.92);
    /* Secondary text color for supporting copy */
    --muted: rgba(20, 20, 20, 0.65);
    /* Glass fill for panels and cards (subtle dark tint) */
    --glass: rgba(255, 255, 255, 0.7);
    /* Stronger glass fill for emphasis */
    --glass-strong: rgba(255, 255, 255, 0.85);
    /* Border color for glass (subtle dark outline) */
    --stroke: rgba(0, 0, 0, 0.12);
    /* Shadows for light theme (subtle dark shadows) */
    --shadow: 0 10px 30px rgba(0,0,0,.1), inset 0 1px rgba(255,255,255,.8);
    
    /* Pastel accents adjusted for light theme */
    --pastel-pink: #ff6b9d;
    --pastel-yellow: #ffd93d;
    --pastel-orange: #ff8a5c;
    --pastel-green: #6bcf7f;
    --pastel-coral: #ff6b6b;
    
    /* Light theme gradient (subtle warm wash) */
    --gradient-1: radial-gradient(1200px 800px at 10% 10%, rgba(255, 193, 133, 0.3) 0%, transparent 50%),
                   radial-gradient(1000px 700px at 90% 20%, rgba(255, 193, 133, 0.2) 0%, transparent 50%),
                   radial-gradient(900px 900px at 30% 90%, rgba(255, 193, 133, 0.25) 0%, transparent 50%),
                   radial-gradient(800px 1000px at 70% 80%, rgba(255, 193, 133, 0.2) 0%, transparent 50%);
  }
}

/*
  Base layout
  - Applies global font, color, and a fixed multi-radial background for depth.
  - "noise" overlay adds a very subtle texture to reduce banding in large gradients.
*/
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: 'Montserrat', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--text);
  background: var(--bg);
  background-image: var(--gradient-1);
  background-attachment: fixed;
}

.noise {
  pointer-events: none;
  position: fixed; inset: 0;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity=".04"/></svg>');
  z-index: 0;
}

/*
  Generic glass panel
  - Reusable frosted surface with saturation bump, blur, and soft inner highlight.
  - Border + shadow combo gives the panel a floating, liquid feel.
  - Apply this class to any container to inherit the glass look.
*/
.glass {
  background: var(--glass);
  backdrop-filter: saturate(160%) blur(var(--blur));
  -webkit-backdrop-filter: saturate(160%) blur(var(--blur));
  border: 1px solid var(--stroke);
  box-shadow: var(--shadow);
  border-radius: var(--radius);
}

/*
  Header
  - Sticky, elevated navigation with brand and actions.
  - The header itself is glass to stay on-theme and remain legible over gradients.
*/
.app-header {
  position: sticky; top: 12px; margin: 12px auto; z-index: 10;
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 14px; max-width: 1100px;
}
.brand { display: flex; align-items: center; gap: 10px; }
.logo { font-size: 18px; filter: drop-shadow(0 2px 6px rgba(0,0,0,.35)); display: inline-grid; place-items: center; width: 34px; height: 34px; border-radius: 12px; background: var(--glass); border: 1px solid var(--stroke); backdrop-filter: blur(14px) saturate(140%); -webkit-backdrop-filter: blur(14px) saturate(140%); box-shadow: var(--shadow); }
.brand-name { color: var(--text); text-decoration: none; font-weight: 700; letter-spacing: .2px; }
.nav { display: flex; gap: 8px; align-items: center; }
.nav-link { color: var(--muted); text-decoration: none; padding: 10px 12px; border-radius: var(--radius-sm); }
.nav-link.active { color: var(--text); background: var(--glass); }
.nav-cta { margin-left: 4px; }
/* Glassy hamburger button */
.menu-toggle { display: none; margin-left: 8px; background: var(--glass); color: var(--text); border: 1px solid var(--stroke); border-radius: 12px; padding: 8px 12px; cursor: pointer; backdrop-filter: blur(12px) saturate(140%); -webkit-backdrop-filter: blur(12px) saturate(140%); box-shadow: var(--shadow); }
.menu-toggle:hover { background: var(--glass-strong); }
@media (max-width: 720px) { .menu-toggle { display: block; } .nav { display: none; } }

/*
  Hero
  - Central headline, supportive copy, and a prominent search bar.
  - Text sizes are responsive via clamp for comfortable reading on all screens.
*/
.hero { padding: 60px 16px; display: grid; place-items: center; }
.hero-content { max-width: 980px; width: 100%; padding: 28px; text-align: center; }
.hero-title { margin: 4px 0 8px; font-size: clamp(28px, 5vw, 52px); line-height: 1.05; }
.hero-subtitle { color: var(--muted); margin: 0 auto 18px; max-width: 680px; }

.search-bar { display: grid; grid-template-columns: 1fr auto; gap: 10px; margin: 14px auto 6px; max-width: 680px; }
/*
  Search bar: darker text for higher legibility
  - Darken text color and placeholder to meet the request
  - Also lift the input background slightly so dark text remains readable on glass
*/
.search-bar .input { color: var(--text); }
.search-bar .input::placeholder { color: var(--muted); }

/*
  Containers
  - Constrain content to a readable width while maintaining generous breathing room.
*/
.container { width: 100%; max-width: 1100px; margin: 0 auto; padding: 0 16px; }
.section-title { margin: 28px 8px 14px; font-size: 20px; color: var(--text); }

/*
  Categories
  - Grid of glass category cards with accent glow and image thumbnails.
  - Cards subtly lift/brighten on hover to convey interactivity.
*/
.category-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 14px; }
@media (min-width: 720px) { .category-grid { grid-template-columns: repeat(5, 1fr); } }
.category-card {
  position: relative; overflow: hidden; padding: 16px; text-decoration: none; color: var(--text);
  display: grid; gap: 10px; place-items: center; aspect-ratio: 1.1/1;
  border-radius: var(--radius); background: var(--glass);
  border: 1px solid var(--stroke);
  backdrop-filter: blur(var(--blur)) saturate(140%);
  -webkit-backdrop-filter: blur(var(--blur)) saturate(140%);
  box-shadow: var(--shadow);
  transition: transform .35s ease, box-shadow .35s ease, background .35s ease;
}
.category-card::after {
  content: ""; position: absolute; inset: -40% -20%; background: radial-gradient(300px 200px at 70% 0%, var(--accent), transparent 60%);
  opacity: .45; filter: blur(40px); transform: translateY(10px); transition: transform .5s ease, opacity .5s ease;
}
.category-card:hover { transform: translateY(-3px); box-shadow: 0 20px 40px rgba(0,0,0,.25); }
.category-card:hover::after { transform: translateY(-10px); opacity: .7; }
.category-image { width: 56px; height: 56px; object-fit: cover; border-radius: 12px; border: 1px solid var(--stroke); box-shadow: 0 6px 16px rgba(0,0,0,.25); }
.category-name { 
  font-weight: 700; 
  background: var(--glass);
  border: 1px solid var(--stroke);
  border-radius: 999px;
  padding: 6px 12px;
  box-shadow: var(--shadow);
}

/*
  Event cards
  - Compact tiles with image, title, meta chips, and a brief description.
  - Hover elevation and gentle zoom on the image add delight without distraction.
*/
.event-grid { display: grid; grid-template-columns: 1fr; gap: 16px; }
@media (min-width: 700px) { .event-grid { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 1024px) { .event-grid { grid-template-columns: repeat(3, 1fr); } }

.event-card {
  position: relative; overflow: hidden; border-radius: var(--radius);
  background: var(--glass);
  border: 1px solid var(--stroke); box-shadow: var(--shadow);
  transition: transform .3s ease, box-shadow .3s ease;
}
.event-card:hover { transform: translateY(-4px); box-shadow: 0 24px 44px rgba(0,0,0,.3); }
.event-thumb { width: 100%; height: 180px; object-fit: cover; display: block; }
.event-content { padding: 14px; display: grid; gap: 8px; }
.event-title { margin: 0; font-size: 18px; }
.event-meta { display: flex; flex-wrap: wrap; gap: 6px; color: var(--muted); font-size: 13px; }
.event-desc { color: var(--muted); font-size: 14px; line-height: 1.5; height: 42px; overflow: hidden; }
.event-actions { display: flex; justify-content: space-between; align-items: center; margin-top: 6px; }

.chip { background: var(--glass); border: 1px solid var(--stroke); border-radius: 999px; padding: 6px 10px; font-size: 12px; color: var(--text); }

/*
  Buttons
  - Primary: warm pastel gradient for primary calls to action.
  - Gloss: translucent glass button for secondary actions on glass backgrounds.
  - Ghost: minimal outline for low-emphasis actions.
*/
.btn { cursor: pointer; user-select: none; border: 0; border-radius: 999px; padding: 10px 16px; font-weight: 600; transition: transform .12s ease, box-shadow .2s ease, background .3s ease; color: #222; }
.btn:active { transform: translateY(1px); }
.btn-primary { background: linear-gradient(180deg, var(--pastel-yellow), var(--pastel-orange)); box-shadow: 0 6px 18px rgba(255,138,92,.35); }
.btn-primary:hover { background: linear-gradient(180deg, #ffed4d, #ff9b6b); }
.btn-gloss { background: var(--glass); color: var(--text); border: 1px solid var(--stroke); backdrop-filter: blur(12px); }
.btn-gloss:hover { background: var(--glass-strong); }
.btn-ghost { background: transparent; border: 1px solid var(--stroke); color: var(--text); }

/*
  Inputs
  - All fields share a frosted appearance with inner highlight and focus ring.
  - Date/time/select variants receive a slightly stronger glass gradient for clarity.
*/
.input { width: 100%; background: var(--glass); color: var(--text); border: 1px solid var(--stroke); padding: 12px 14px; border-radius: var(--radius-sm); outline: none; transition: border-color .2s ease, background .2s ease, box-shadow .2s ease; backdrop-filter: blur(10px) saturate(120%); -webkit-backdrop-filter: blur(10px) saturate(120%); box-shadow: var(--shadow); }
.input:focus { background: var(--glass-strong); border-color: var(--stroke); box-shadow: var(--shadow); }

/* Glassy calendar/time inputs */
input[type="date"].input, input[type="time"].input, select.input {
  background: var(--glass-strong);
}
input[type="date"].input::-webkit-calendar-picker-indicator,
input[type="time"].input::-webkit-calendar-picker-indicator {
  background: var(--glass-strong);
  border: 1px solid var(--stroke);
  border-radius: 8px;
  padding: 4px;
  cursor: pointer;
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.3));
}
input[type="date"].input::-webkit-calendar-picker-indicator:hover,
input[type="time"].input::-webkit-calendar-picker-indicator:hover {
  background: var(--glass);
}
/* Improve readability of date parts on WebKit */
input[type="date"].input::-webkit-datetime-edit, input[type="time"].input::-webkit-datetime-edit {
  color: var(--text);
}

/*
  Filters
  - Responsive grid-based toolbar that collapses gracefully on small viewports.
*/
.filters { margin-top: 20px; padding: 14px; }
.filters-form { display: grid; grid-template-columns: 1fr; gap: 12px; }
@media (min-width: 760px) { .filters-form { grid-template-columns: 1fr 1fr 1fr 1fr auto auto; align-items: end; } }
.field { display: grid; gap: 8px; color: var(--muted); }
.actions { display: flex; gap: 10px; }

/*
  Event detail
  - Large hero image with meta chips, actions, and an embedded map.
  - Sections keep the glass look while maintaining strong readability.
*/
.event-detail { margin: 18px auto; overflow: hidden; }
.event-hero img { width: 100%; height: clamp(220px, 40vw, 420px); object-fit: cover; display: block; }
.event-body { padding: 16px; }
.event-description { color: var(--muted); line-height: 1.7; }
.map-section { margin-top: 18px; }
.map-embed { border-radius: var(--radius); overflow: hidden; border: 1px solid var(--stroke); }
.map-embed iframe { width: 100%; height: 340px; border: 0; }

/*
  Forms
  - Two-column layout on wider screens; single column on mobile.
  - File input maintains the same frosted vibe as text inputs.
*/
.form-card { margin: 20px auto; padding: 18px; }
.form-grid { display: grid; gap: 14px; }
.grid-2 { display: grid; grid-template-columns: 1fr; gap: 14px; }
@media (min-width: 720px) { .grid-2 { grid-template-columns: 1fr 1fr; } }
.file input[type="file"] { padding: 10px; background: var(--glass); }
.hint { color: var(--muted); font-size: 13px; margin-top: 10px; }

/*
  Footer
  - Simple, compact footer repeating key navigation affordances.
*/
.footer-inner { margin: 40px 0 24px; padding: 12px 14px; display: flex; align-items: center; justify-content: space-between; gap: 10px; }
.footer-links a { color: var(--muted); text-decoration: none; margin-left: 12px; }

.cta-row { display: grid; place-items: center; margin: 16px 0 6px; }

/*
  Animations
  - Single float-in keyframe applied to major interactive surfaces.
  - Paired with prefers-reduced-motion handling to respect user settings.
*/
@keyframes floatIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}
.event-card, .category-card, .glass, .app-header { animation: floatIn .6s ease both; }

/*
  Custom Datepicker
  - Modal overlay with a glass calendar panel.
  - Weekday headers remain fixed; day buttons are generated dynamically.
  - Selected day uses the warm primary gradient to stand out.
*/
.datepicker-overlay { position: fixed; inset: 0; display: none; place-items: center; background: rgba(0,0,0,.25); z-index: 20; }
.datepicker-overlay.active { display: grid; }
.datepicker { width: min(92vw, 360px); background: linear-gradient(180deg, rgba(255,255,255,.16), rgba(255,255,255,.08)); border: 1px solid var(--stroke); box-shadow: var(--shadow); border-radius: var(--radius-lg); backdrop-filter: blur(var(--blur)); -webkit-backdrop-filter: blur(var(--blur)); overflow: hidden; }
.datepicker-header { display: flex; align-items: center; justify-content: space-between; padding: 12px 14px; border-bottom: 1px solid var(--stroke); }
.datepicker-title { font-weight: 700; }
.datepicker-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; padding: 12px; }
.datepicker-weekday { color: var(--muted); font-size: 12px; text-align: center; }
.datepicker-day {
  text-align: center;
  padding: 10px 0;
  border-radius: 12px;
  cursor: pointer;
  border: 1px solid var(--stroke);
  background: var(--glass);
  backdrop-filter: blur(10px) saturate(140%);
  -webkit-backdrop-filter: blur(10px) saturate(140%);
  box-shadow: var(--shadow);
  color: var(--text);
}
.datepicker-day:hover {
  background: var(--glass-strong);
}
.datepicker-day.is-today {
  border-color: var(--stroke);
  box-shadow: var(--shadow);
}
.datepicker-day.is-selected { background: linear-gradient(180deg, var(--pastel-yellow), var(--pastel-orange)); color: #222; font-weight: 700; }
.datepicker-controls { display: flex; gap: 8px; }
.icon-btn { background: var(--glass); border: 1px solid var(--stroke); color: var(--text); border-radius: 10px; padding: 6px 10px; cursor: pointer; }
.icon-btn:hover { background: var(--glass-strong); }

/*
  Custom Timepicker
  - Glass modal with hour and minute spinners.
  - Uses ▲/▼ controls for quick adjustments; commits on close or backdrop click.
*/
.timepicker-overlay { position: fixed; inset: 0; display: none; place-items: center; background: rgba(0,0,0,.25); z-index: 20; }
.timepicker-overlay.active { display: grid; }
.timepicker { width: min(92vw, 360px); background: linear-gradient(180deg, rgba(255,255,255,.16), rgba(255,255,255,.08)); border: 1px solid var(--stroke); box-shadow: var(--shadow); border-radius: var(--radius-lg); backdrop-filter: blur(var(--blur)); -webkit-backdrop-filter: blur(var(--blur)); overflow: hidden; }
.timepicker-header { display: flex; align-items: center; justify-content: space-between; padding: 12px 14px; border-bottom: 1px solid var(--stroke); }
.timepicker-title { font-weight: 700; }
.timepicker-body { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; padding: 12px; }
.spinner { display: grid; grid-template-columns: 1fr; justify-items: center; gap: 8px; }
.spinner-display { font-size: 36px; font-weight: 800; padding: 8px 16px; border-radius: 12px; background: var(--glass); border: 1px solid var(--stroke); min-width: 90px; text-align: center; }
.spinner-controls { display: flex; gap: 8px; }

/*
  Accessibility & interaction details
  - Strong focus styles for keyboard users.
  - Light highlight for text selection and gentle hover affordances.
*/
a:focus-visible, button:focus-visible, .btn:focus-visible, .input:focus-visible, select:focus-visible, textarea:focus-visible {
  outline: 2px solid rgba(255,255,255,.55);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(255,255,255,.12);
}

/* Text selection color */
::selection { background: rgba(255, 226, 154, .45); color: #222; }

/* Link hover subtle lift */
a:hover { filter: drop-shadow(0 2px 10px rgba(0,0,0,.18)); }

/* Nav link hover */
.nav-link:hover { background: var(--glass-strong); color: var(--text); }

/* Event image subtle zoom on hover */
.event-card:hover .event-thumb { transform: scale(1.03); }
.event-thumb { transition: transform .5s ease; }

/* Button active + hover tweaks */
.btn:hover { box-shadow: 0 10px 26px rgba(0,0,0,.22); }
.btn:active { transform: translateY(1px) scale(.99); }

/* Smooth scroll behavior for intra-page navigation */
html { scroll-behavior: smooth; }

/* Custom scrollbars (WebKit) — subtle and on-theme */
*::-webkit-scrollbar { width: 10px; height: 10px; }
*::-webkit-scrollbar-track { background: rgba(255,255,255,.04); border-radius: 999px; }
*::-webkit-scrollbar-thumb { background: rgba(255,255,255,.18); border: 2px solid rgba(0,0,0,0); background-clip: padding-box; border-radius: 999px; }
*::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,.26); }

/* Mobile menu overlay/panel (original simple version) */
.menu-overlay { position: fixed; inset: 0; display: none; background: rgba(0,0,0,.28); z-index: 30; }
.menu-overlay.active { display: block; }
.menu-panel { position: fixed; top: 14px; right: 14px; width: min(92vw, 280px); background: linear-gradient(180deg, rgba(255,255,255,.16), rgba(255,255,255,.08)); border: 1px solid var(--stroke); border-radius: var(--radius-lg); backdrop-filter: blur(var(--blur)); -webkit-backdrop-filter: blur(var(--blur)); box-shadow: var(--shadow); padding: 14px; z-index: 31; }
/* Vertical menu list and links */
.menu-list { display: flex; flex-direction: column; gap: 8px; }
.menu-link { color: var(--text); text-decoration: none; padding: 12px 14px; border-radius: 12px; border: 1px solid var(--stroke); background: var(--glass); width: 100%; text-align: left; }
.menu-link:hover { background: var(--glass-strong); }

/* Utility: visually hidden (for a11y) */
.visually-hidden { position: absolute !important; height: 1px; width: 1px; overflow: hidden; clip: rect(1px, 1px, 1px, 1px); white-space: nowrap; }

/* Respect user preference to reduce motion */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}